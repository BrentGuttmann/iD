<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <title>iD</title>
        <link rel='stylesheet' href='iD.css'>

        <!-- mobile devices -->
        <meta name='viewport' content='initial-scale=1.0 maximum-scale=1.0'>
        <meta name='apple-mobile-web-app-capable' content='yes' />
        <meta name='apple-mobile-web-app-status-bar-style' content='black-translucent' />

        <!--[if !IE]>-->
        <script src='iD.js'></script>
        <!--<![endif]-->

        <style>

        /* custom styles */
        .preset-icon-fill-point {
            cursor: inherit;
            height: 100%;
            width: 100%;
        }

        .node.tag-damage-none path.stroke {
            fill: #80ff80;
        }
        .node.tag-damage-none use {
            fill: #008000;
        }
        .preset-icon-fill.tag-damage-none {
            background-color: #80ff80;
        }
        .preset-icon-fill.tag-damage-none + .preset-icon use {
            fill: #008000;
        }

        .node.tag-damage-some path.stroke {
            fill: #ffff80;
        }
        .node.tag-damage-some use {
            fill: #806000;
        }
        .preset-icon-fill.tag-damage-some {
            background-color: #ffff80;
        }
        .preset-icon-fill.tag-damage-some + .preset-icon use {
            fill: #806000;
        }

        .node.tag-damage-destroyed path.stroke {
            fill: #ff8080;
        }
        .node.tag-damage-destroyed use {
            fill: #800000;
        }
        .preset-icon-fill.tag-damage-destroyed {
            background-color: #ff8080;
        }
        .preset-icon-fill.tag-damage-destroyed + .preset-icon use {
            fill: #800000;
        }

        </style>
    </head>
    <body>
        <div id='id-container'></div>
        <script>
            // google analytics
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-38039653-2']);
            _gaq.push(['_trackPageview']);
            (function() {
              var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
              ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
              var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();

            // crazyegg
            setTimeout(function(){var a=document.createElement('script');
            var b=document.getElementsByTagName('script')[0];
            a.src=document.location.protocol+'//dnn506yrbagrg.cloudfront.net/pages/scripts/0013/6714.js?'+Math.floor(new Date().getTime()/3600000);
            a.async=true;a.type='text/javascript';b.parentNode.insertBefore(a,b)}, 1);

            if (typeof iD == 'undefined' || !iD.Detect().support) {
                document.getElementById('id-container').innerHTML = 'Sorry, your browser is not currently supported. Please use Potlatch 2 to edit the map.';
                document.getElementById('id-container').className = 'unsupported';
            } else {
                var id = iD.Context();

                //
                // custom presets
                //
                iD.data.presets = {

                    presets: {
                       "area": {
                            "name": "Area",
                            "tags": {},
                            "geometry": ["area"],
                            "searchable": false
                        },
                        "line": {
                            "name": "Line",
                            "tags": {},
                            "geometry": ["line"],
                            "searchable": false
                        },
                        "vertex": {
                            "name": "Vertex",
                            "tags": {},
                            "geometry": ["vertex"],
                            "searchable": false
                        },
                        "relation": {
                            "name": "Relation",
                            "tags": {},
                            "geometry": ["relation"],
                            "searchable": false
                        },

                        "point": {
                            "name": "Assess Damage",
                            "tags": {},
                            "geometry": ["point"],
                            "fields": ["damage"]
                        },
                        "building_no_damage": {
                            "icon": "home",
                            "name": "Building - No Damage",
                            "tags": { "damage": "none" },
                            "geometry": ["point"],
                            "fields": ["damage"]
                        },
                        "building_some_damage": {
                            "icon": "home",
                            "name": "Building - Some Damage",
                            "tags": { "damage": "some" },
                            "geometry": ["point"],
                            "fields": ["damage"]
                        },
                        "building_destroyed": {
                            "icon": "home",
                            "name": "Building - Destroyed",
                            "tags": { "damage": "destroyed" },
                            "geometry": ["point"],
                            "fields": ["damage"]
                        },
                    },

                    "defaults": {
                        "area": [],
                        "line": [],
                        "point": [
                            "building_no_damage",
                            "building_some_damage",
                            "building_destroyed",
                            "point"
                        ],
                        "vertex": [],
                        "relation": []
                    },

                    categories: { },

                    fields: {
                        "damage": {
                            "key": "damage",
                            "type": "radio",
                            "label": "Building Damage",
                            "options": [
                                "none",
                                "some",
                                "destroyed"
                            ]
                        }
                    }
                };

                id.presets().init();


                //
                // override feature filter limits
                //
                var f = id.features().features();
                f.points.currentMax = f.points.defaultMax = 99999
                f.buildings.currentMax = f.buildings.defaultMax = 99999


                id.ui()(document.getElementById('id-container'));
            }
        </script>
    </body>
</html>
